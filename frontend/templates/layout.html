<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Loterias{% endblock %}</title>

    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    <meta name="theme-color" content="#2a5daa">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='icons/icon-192.png') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='icons/icon-192.png') }}">

</head>

<body>

<header>
  <div class="header-top">
    <h1>Jacinto Loterias</h1>
    <button id="menu-toggle">&#9776;</button>
  </div>

  <nav id="nav-menu">
    <a href="{{ url_for('index') }}">Início</a>
    <a href="{{ url_for('lotofacil') }}">Lotofácil</a>
    <a href="{{ url_for('megasena') }}">Mega-Sena</a>
    <a href="{{ url_for('quina') }}">Quina</a>
    <a href="{{ url_for('lotomania') }}">Lotomania</a>
    <a href="{{ url_for('dupla_sena') }}">Dupla Sena</a>
    <a href="{{ url_for('timemania') }}">Timemania</a>
    <a href="{{ url_for('federal') }}">Federal</a>
  </nav>
</header>

<main>
    {% block content %}{% endblock %}
</main>

<script>
  if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("{{ url_for('static', filename='service-worker.js') }}")
        .then(() => console.log("Service Worker registrado com sucesso"))
        .catch(err => console.error("Erro ao registrar Service Worker:", err));
  }
</script>

    <!-- TOAST PWA -->
<div id="pwa-toast" style="
    display:none;
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #ffffff;
    padding: 16px;
    width: 90%;
    max-width: 350px;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(0,0,0,0.2);
    z-index: 9999;
    flex-direction: column;
">
    <strong style="font-size: 18px;">Instalar aplicativo</strong>
    <p style="margin: 8px 0 16px;">Instale o app da Oficina para acesso rápido.</p>

    <div style="display: flex; justify-content: flex-end; gap: 10px;">
        <button id="btn-close-toast" style="border:none;background:transparent;font-size:14px;cursor:pointer;">
            Agora não
        </button>

        <button id="btn-install" style="padding:8px 14px;background:#28a745;color:white;border:none;border-radius:6px;cursor:pointer;">
            Instalar
        </button>
    </div>
</div>

<script src="{{ url_for('static', filename='js/app.js') }}"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
<script src="{{ url_for('static', filename='js/pwa-install.js') }}"></script>

<script>
  const toggle = document.getElementById("menu-toggle");
  const menu = document.getElementById("nav-menu");

  toggle.addEventListener("click", () => {
    menu.classList.toggle("expanded");
  });
</script>

</body>
</html>
